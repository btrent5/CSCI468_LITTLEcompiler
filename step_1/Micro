#!/bin/bash

# check args
if [[ $# -eq 0 ]] ; then
    echo 'Usage: ./Micro inputs/sqrt.micro'
    exit 1
fi

# generate and compile files
antlr4 little_grammar.g4
javac little_grammar*.java
javac printTokens.java

# run program
java printTokens $1

# remove generated files
rm -rf *.class
rm -rf little_grammar*.java
rm -rf *.tokens
